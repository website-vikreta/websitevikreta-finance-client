"use strict";(self.webpackChunknewproject1801=self.webpackChunknewproject1801||[]).push([[496],{4496:function(e,r,n){n.r(r),n.d(r,{default:function(){return q}});var t,a=n(1413),s=n(5574),o=n(5661),l=n(890),i=n(6151),d=n(9157),c=n(9823),u=n(4165),m=n(5861),p=n(4942),x=n(9439),h=n(168),f=n(2791),g=n(9403),Z=n.n(g),j=n(5985),y=n(8190),v=(n(5462),n(1614)),b=n(7133),M=n(8550),O=n(765),I=n(5523),N=n(4479),w=n(7071),P=n(1708),C=n(6571),T=n(7792),k=n(6088),S=n(1363),D=n(3211),A=(n(466),n(184)),z=(0,k.Z)(P.M)(t||(t=(0,h.Z)(["\n    width: 300px\n"]))),R=function(e){var r=JSON.parse(localStorage.getItem("user-info")),n=(0,f.useState)({title:"",amount:"",category:"",paymentType:"",dateOfInvoice:null,dateOfPayment:null,description:"",paymentProof:"",userId:r.id}),t=(0,x.Z)(n,2),s=t[0],o=t[1],l=s.title,i=s.amount,d=s.category,c=s.paymentType,h=s.dateOfInvoice,g=s.dateOfPayment,P=s.description,k=s.paymentProof,R=s.userId,W=e.setRender,q=e.showModal,E=e.setShowModal,F=(0,f.useRef)(!1);(new y.Z).set("user",R,{path:"/"});var G=(0,f.useState)({title:{value:l,error:!1,errorMessage:""},amount:{value:i,error:!1,errorMessage:""},category:{value:d,error:!1,errorMessage:""},paymentType:{value:c,error:!1,errorMessage:""},dateOfInvoice:{value:h,error:!1,errorMessage:""},dateOfPayment:{value:g,error:!1,errorMessage:""}}),$=(0,x.Z)(G,2),_=$[0],B=$[1];var J=function(){var e=(0,m.Z)((0,u.Z)().mark((function e(){return(0,u.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,D.fC)(s);case 2:E((0,a.Z)((0,a.Z)({},q),{},{openDialog:!1})),W("addSet"),j.Am.success("Item Added Successfully!!",{position:"top-center",autoClose:2e3,hideProgressBar:!1,closeOnClick:!0,theme:"light"});case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),X=function(e){B((0,a.Z)((0,a.Z)({},_),{},(0,p.Z)({},e.target.name,(0,a.Z)((0,a.Z)({},_[e.target.name]),{},{error:!1,errorMessage:""})))),o((0,a.Z)((0,a.Z)({},s),{},(0,p.Z)({},e.target.name,e.target.value)))};return(0,A.jsx)(v.Z,{children:(0,A.jsxs)("div",{className:"item-form",children:[(0,A.jsxs)("div",{children:[(0,A.jsxs)(b.Z,{className:"label",id:"demo-controlled-radio-buttons-group",children:["Item Title ",(0,A.jsx)("span",{className:"text-danger",children:"*"})]}),(0,A.jsx)(M.Z,{variant:"outlined",fullWidth:!0,type:"text",onChange:function(e){return X(e)},error:_.title.error,helperText:_.title.error&&_.title.errorMessage,name:"title",value:l,size:"small"})]}),(0,A.jsxs)("div",{children:[(0,A.jsxs)(b.Z,{className:"label",id:"demo-controlled-radio-buttons-group",children:["Amount ",(0,A.jsx)("span",{className:"text-danger",children:"*"})]}),(0,A.jsx)(M.Z,{type:"text",onChange:function(e){return X(e)},name:"amount",fullWidth:!0,error:_.amount.error||""!==i&&!i.match(/^\d+$/),helperText:_.amount.error&&_.amount.errorMessage||(i.match(/^\d+$/)||""===i?"":"Only digits are allowed"),value:i,size:"small"})]}),(0,A.jsxs)("div",{children:[(0,A.jsxs)(b.Z,{className:"label",id:"demo-controlled-radio-buttons-group",children:["Category ",(0,A.jsx)("span",{className:"text-danger",children:"*"})]}),(0,A.jsx)(M.Z,{fullWidth:!0,type:"text",onChange:function(e){return X(e)},name:"category",error:_.category.error,helperText:_.category.error&&_.category.errorMessage,value:d,size:"small"})]}),(0,A.jsxs)("div",{children:[(0,A.jsxs)(b.Z,{className:"label",id:"demo-controlled-radio-buttons-group",children:["Payment Type ",(0,A.jsx)("span",{className:"text-danger",children:"*"})]}),(0,A.jsxs)(O.Z,{row:!0,"aria-labelledby":"demo-controlled-radio-buttons-group",name:"paymentType",value:c,onChange:function(e){return X(e)},children:[(0,A.jsx)(I.Z,{value:"Income",control:(0,A.jsx)(N.Z,{required:!0}),label:"Income"}),(0,A.jsx)(I.Z,{value:"Expense",control:(0,A.jsx)(N.Z,{required:!0}),label:"Expense"})]}),(0,A.jsx)(w.Z,{error:!0,children:_.paymentType.errorMessage})]}),(0,A.jsxs)("div",{className:"grid grid-2",children:[(0,A.jsxs)("div",{sx:{padding:"20px"},children:[(0,A.jsxs)(b.Z,{className:"label",id:"demo-controlled-radio-buttons-group",children:["Date of Invoice ",(0,A.jsx)("span",{className:"text-danger",children:"*"})]}),(0,A.jsx)(C._,{dateAdapter:T.y,children:(0,A.jsx)(z,{name:"dateOfInvoice",renderInput:function(e){return(0,A.jsx)(M.Z,(0,a.Z)((0,a.Z)({},e),{},{size:"small"}))},value:h,onChange:function(e){return function(e){o((0,a.Z)((0,a.Z)({},s),{},{dateOfInvoice:e})),B((0,a.Z)((0,a.Z)({},_),{},{dateOfInvoice:(0,a.Z)((0,a.Z)({},_[h]),{},{error:!1,errorMessage:""})}))}(e)}})}),(0,A.jsx)(w.Z,{error:!0,children:_.dateOfInvoice.error&&_.dateOfInvoice.errorMessage})]}),(0,A.jsxs)("div",{children:[(0,A.jsxs)(b.Z,{className:"label",id:"demo-controlled-radio-buttons-group",children:["Date of Payment ",(0,A.jsx)("span",{className:"text-danger",children:"*"})]}),(0,A.jsx)(C._,{dateAdapter:T.y,children:(0,A.jsx)(z,{name:"dateOfPayment",renderInput:function(e){return(0,A.jsx)(M.Z,(0,a.Z)((0,a.Z)({},e),{},{size:"small"}))},value:g,onChange:function(e){return function(e){o((0,a.Z)((0,a.Z)({},s),{},{dateOfPayment:e})),B((0,a.Z)((0,a.Z)({},_),{},{dateOfPayment:(0,a.Z)((0,a.Z)({},_[g]),{},{error:!1,errorMessage:""})}))}(e)}})}),(0,A.jsx)(w.Z,{error:!0,children:_.dateOfPayment.error&&_.dateOfPayment.errorMessage})]})]}),(0,A.jsxs)("div",{children:[(0,A.jsx)(b.Z,{className:"label",id:"demo-controlled-radio-buttons-group",children:"Description"}),(0,A.jsx)(M.Z,{multiline:!0,rows:5,fullWidth:!0,type:"text",onChange:function(e){return X(e)},name:"description",value:P,size:"small"})]}),(0,A.jsxs)("div",{children:[(0,A.jsx)(b.Z,{className:"label",id:"demo-controlled-radio-buttons-group",children:"Payment Proof"}),(0,A.jsx)("span",{className:"input-file",children:(0,A.jsx)(Z(),{type:"file",sx:{display:"none"},multiple:!1,onDone:function(e){!function(e){o((0,a.Z)((0,a.Z)({},s),{},{paymentProof:e}));var r=e.split(";")[0].split("/")[1];["png","jpeg","jpg","pdf"].includes(r)||alert("File must be in img and pdf format"),(e.length*(3/4)-2)/1048576>1.5&&alert("File limit exceed"),console.log(k)}(e.base64)}})})]}),(0,A.jsxs)("div",{className:"grid grid-2 mt-4",children:[(0,A.jsx)("button",{className:"btn btn-secondary btn-danger",onClick:function(){o({title:"",amount:"",category:"",paymentType:"",dateOfInvoice:null,dateOfPayment:null,description:"",paymentProof:""})},children:"Reset"}),(0,A.jsxs)("button",{className:"btn btn-primary",disabled:F.current,onClick:function(){return function(){F.current=!0;for(var e=Object.keys(_),r=(0,a.Z)({},_),n=Object.values(s),t=0,o=0;o<e.length;o++){var l=e[o],i=n[o];""!==i&&("dateOfInvoice"!==l&&"dateOfPayment"!==l||null!==i)||(t+=1,r=(0,a.Z)((0,a.Z)({},r),{},(0,p.Z)({},l,(0,a.Z)((0,a.Z)({},r[l]),{},{error:!0,errorMessage:"This field is required"}))))}B(r),0!==t&&(F.current=!1),0===t&&J(),setTimeout((function(){F.current=!1}),2e3)}()},children:[F.current?"Adding...":"Add Item",F.current&&(0,A.jsx)(S.G,{icon:"spinner",spin:!0})]})]})]})})},W=n(9899);function q(e){var r=e.setRender,n=e.showModal,t=e.setShowModal,u=e.formType,m=n.openDialog,p=n.currItem;return(0,A.jsxs)(s.Z,{open:m,onClose:function(){t((0,a.Z)((0,a.Z)({},n),{},{openDialog:!1}))},maxWidth:"md",children:[(0,A.jsx)(o.Z,{children:(0,A.jsxs)("div",{style:{display:"flex"},children:[(0,A.jsxs)(l.Z,{variant:"h6",component:"div",style:{flexGrow:1},children:[u," Item Details"]}),(0,A.jsx)(i.Z,{color:"secondary",onClick:function(){return t((0,a.Z)((0,a.Z)({},n),{},{openDialog:!1}))},children:(0,A.jsx)(c.Z,{})})]})}),(0,A.jsx)(d.Z,{dividers:!0,sx:{paddingY:2,paddingX:0},children:"Add"===u?(0,A.jsx)(R,{setRender:r,showModal:n,setShowModal:t}):(0,A.jsx)(W.Z,{setRender:r,cItem:p,showModal:n,setShowModal:t})})]})}}}]);
//# sourceMappingURL=496.5c1c6605.chunk.js.map