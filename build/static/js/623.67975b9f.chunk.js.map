{"version":3,"file":"static/js/623.67975b9f.chunk.js","mappings":"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","sources":["components/PopupModals/PopupInvestDocs.js"],"sourcesContent":["// PopupImage.js\nimport React from 'react';\nimport { Box, Button, CircularProgress, Container, Dialog, DialogContent, DialogTitle, Typography } from '@mui/material';\nimport DownloadIcon from '@mui/icons-material/Download';\nimport CloseIcon from '@mui/icons-material/Close';\nimport JSZip from 'jszip';\nimport { saveAs } from 'file-saver';\n\n\n\nexport default function PopupImage(props) {\n    const { showDocsModal, setShowDocsModal } = props;\n    const { openImgDialog, id, documents, loading } = showDocsModal;\n\n    const handleClose = () => {\n        setShowDocsModal({ ...showDocsModal, openImgDialog: false });\n    };\n\n    const detectFileType = (base64String) => {\n        if (base64String.startsWith('data:image/jpeg;base64,')) {\n            return 'image';\n        } else if (base64String.startsWith('data:image/png;base64,')) {\n            return 'image';\n        } else if (base64String.startsWith('data:image/gif;base64,')) {\n            return 'image';\n        } else if (base64String.startsWith('data:application/pdf;base64,')) {\n            return 'pdf';\n        } else {\n            return 'unknown'; // Handle other file types if needed\n        }\n    };\n\n\n    function downloadInvestmentDocuments(documentsArray) {\n        const zip = new JSZip();\n\n        \n        // Loop through the documents array\n        documentsArray.forEach((documentData, index) => {\n            \n            var fileType = detectFileType(documentData);\n\n            const base64Data = documentData.split(',')[1]; // Replace with the actual base64 data            \n\n            const fileName = `Investment_${index + 1}.${fileType === 'pdf' ? fileType : 'jpg'}`;\n            // Add the file to the zip\n            zip.file(fileName, base64Data, { base64: true });\n        });\n\n        // Generate the zip content\n        zip.generateAsync({ type: 'blob' }).then((content) => {\n            // Save the zip as a file\n            saveAs(content, `Investment_Documents_${id}.zip`);\n        });\n    }\n    return (\n        <Dialog open={openImgDialog} onClose={handleClose} maxWidth=\"md\">\n            <DialogTitle>\n                <div style={{ display: 'flex' }}>\n                    <Typography variant=\"h6\" component=\"div\" style={{ flexGrow: 1, paddingLeft: 22 }}>\n                        Investment Documents\n                    </Typography>\n                    <Button color=\"secondary\" onClick={() => setShowDocsModal({ ...showDocsModal, openImgDialog: false })}>\n                        <CloseIcon />\n                    </Button>\n                </div>\n            </DialogTitle>\n            <DialogContent dividers sx={{ paddingY: 5 }}>\n                {\n                    loading ? <><Container><Box>Loading...<CircularProgress /></Box></Container></> :\n                        <>\n\n                            {documents[0] ?\n                                <Container >\n\n                                    {documents.map((document, index) => (\n                                        <div key={index}>\n                                            {detectFileType(document) === 'image' ? (\n                                                <img src={document} alt=\"View after sometime or Download to view\" style={{ width: '100%', flex: 1, paddingTop: 30 }} />\n                                            ) : (\n                                                <iframe width=\"500\" height=\"500\" title={id} src={document}></iframe>\n                                            )}\n                                        </div>\n\n                                    ))}\n                                    <Box><Button className=\"btn btn-primary mt-3\" onClick={() => downloadInvestmentDocuments(documents)}>Download<DownloadIcon /></Button></Box>\n\n\n                                </Container> :\n                                <Typography>Please Upload Investment Documents</Typography>\n                            }\n                        </>\n                }\n            </DialogContent>\n        </Dialog>\n    );\n}\n"],"names":["PopupImage","props","showDocsModal","setShowDocsModal","openImgDialog","id","documents","loading","detectFileType","base64String","startsWith","_jsxs","Dialog","open","onClose","_objectSpread","maxWidth","children","_jsx","DialogTitle","style","display","Typography","variant","component","flexGrow","paddingLeft","Button","color","onClick","CloseIcon","DialogContent","dividers","sx","paddingY","_Fragment","Container","Box","CircularProgress","map","document","index","src","alt","width","flex","paddingTop","height","title","className","documentsArray","zip","JSZip","forEach","documentData","fileType","base64Data","split","fileName","concat","file","base64","generateAsync","type","then","content","saveAs","downloadInvestmentDocuments","DownloadIcon"],"sourceRoot":""}