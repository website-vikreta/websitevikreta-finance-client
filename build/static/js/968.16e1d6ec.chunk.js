"use strict";(self.webpackChunknewproject1801=self.webpackChunknewproject1801||[]).push([[968],{6968:function(e,n,r){r.r(n),r.d(n,{default:function(){return J}});var t,s,a,o=r(1413),l=r(5574),i=r(5661),d=r(890),c=r(6151),m=r(9157),u=r(9823),h=r(4165),p=r(5861),x=r(4942),g=r(9439),v=r(168),Z=r(2791),f=r(9403),j=r.n(f),y=r(5985),b=r(8190),N=(r(5462),r(1614)),P=r(7133),D=r(8550),M=r(765),O=r(5523),C=r(4479),q=r(7071),I=r(1708),k=r(6571),w=r(7792),z=r(6088),A=r(1363),S=r(3211),R=(r(466),r(184)),W=(0,z.Z)(I.M)(t||(t=(0,v.Z)(["\n    width: 300px\n"]))),T=function(e){var n=JSON.parse(localStorage.getItem("user-info")),r=(0,Z.useState)({title:"",amount:"",category:"",paymentType:"",dateOfInvoice:null,dateOfPayment:null,description:"",paymentProof:"",userId:n.id}),t=(0,g.Z)(r,2),s=t[0],a=t[1],l=s.title,i=s.amount,d=s.category,c=s.paymentType,m=s.dateOfInvoice,u=s.dateOfPayment,v=s.description,f=s.paymentProof,I=s.userId,z=e.setRender,T=e.showModal,F=e.setShowModal,V=(0,Z.useRef)(!1);(new b.Z).set("user",I,{path:"/"});var L=(0,Z.useState)({title:{value:l,error:!1,errorMessage:""},amount:{value:i,error:!1,errorMessage:""},category:{value:d,error:!1,errorMessage:""},paymentType:{value:c,error:!1,errorMessage:""},dateOfInvoice:{value:m,error:!1,errorMessage:""},dateOfPayment:{value:u,error:!1,errorMessage:""}}),Q=(0,g.Z)(L,2),B=Q[0],$=Q[1];var _=function(){var e=(0,p.Z)((0,h.Z)().mark((function e(){return(0,h.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,S.fC)(s);case 2:F((0,o.Z)((0,o.Z)({},T),{},{openDialog:!1})),z("addSet"),y.Am.success("Item Added Successfully!!",{position:"top-center",autoClose:2e3,hideProgressBar:!1,closeOnClick:!0,theme:"light"});case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),E=function(e){$((0,o.Z)((0,o.Z)({},B),{},(0,x.Z)({},e.target.name,(0,o.Z)((0,o.Z)({},B[e.target.name]),{},{error:!1,errorMessage:""})))),a((0,o.Z)((0,o.Z)({},s),{},(0,x.Z)({},e.target.name,e.target.value)))};return(0,R.jsx)(N.Z,{children:(0,R.jsxs)("div",{className:"item-form",children:[(0,R.jsxs)("div",{children:[(0,R.jsxs)(P.Z,{className:"label",id:"demo-controlled-radio-buttons-group",children:["Item Title ",(0,R.jsx)("span",{className:"text-danger",children:"*"})]}),(0,R.jsx)(D.Z,{variant:"outlined",fullWidth:!0,type:"text",onChange:function(e){return E(e)},error:B.title.error,helperText:B.title.error&&B.title.errorMessage,name:"title",value:l,size:"small"})]}),(0,R.jsxs)("div",{children:[(0,R.jsxs)(P.Z,{className:"label",id:"demo-controlled-radio-buttons-group",children:["Amount ",(0,R.jsx)("span",{className:"text-danger",children:"*"})]}),(0,R.jsx)(D.Z,{type:"text",onChange:function(e){return E(e)},name:"amount",fullWidth:!0,error:B.amount.error||""!==i&&!i.match(/^\d+$/),helperText:B.amount.error&&B.amount.errorMessage||(i.match(/^\d+$/)||""===i?"":"Only digits are allowed"),value:i,size:"small"})]}),(0,R.jsxs)("div",{children:[(0,R.jsxs)(P.Z,{className:"label",id:"demo-controlled-radio-buttons-group",children:["Category ",(0,R.jsx)("span",{className:"text-danger",children:"*"})]}),(0,R.jsx)(D.Z,{fullWidth:!0,type:"text",onChange:function(e){return E(e)},name:"category",error:B.category.error,helperText:B.category.error&&B.category.errorMessage,value:d,size:"small"})]}),(0,R.jsxs)("div",{children:[(0,R.jsxs)(P.Z,{className:"label",id:"demo-controlled-radio-buttons-group",children:["Payment Type ",(0,R.jsx)("span",{className:"text-danger",children:"*"})]}),(0,R.jsxs)(M.Z,{row:!0,"aria-labelledby":"demo-controlled-radio-buttons-group",name:"paymentType",value:c,onChange:function(e){return E(e)},children:[(0,R.jsx)(O.Z,{value:"Income",control:(0,R.jsx)(C.Z,{required:!0}),label:"Income"}),(0,R.jsx)(O.Z,{value:"Expense",control:(0,R.jsx)(C.Z,{required:!0}),label:"Expense"})]}),(0,R.jsx)(q.Z,{error:!0,children:B.paymentType.errorMessage})]}),(0,R.jsxs)("div",{className:"grid grid-2",children:[(0,R.jsxs)("div",{sx:{padding:"20px"},children:[(0,R.jsxs)(P.Z,{className:"label",id:"demo-controlled-radio-buttons-group",children:["Date of Invoice ",(0,R.jsx)("span",{className:"text-danger",children:"*"})]}),(0,R.jsx)(k._,{dateAdapter:w.y,children:(0,R.jsx)(W,{name:"dateOfInvoice",renderInput:function(e){return(0,R.jsx)(D.Z,(0,o.Z)((0,o.Z)({},e),{},{size:"small"}))},value:m,onChange:function(e){return function(e){a((0,o.Z)((0,o.Z)({},s),{},{dateOfInvoice:e})),$((0,o.Z)((0,o.Z)({},B),{},{dateOfInvoice:(0,o.Z)((0,o.Z)({},B[m]),{},{error:!1,errorMessage:""})}))}(e)}})}),(0,R.jsx)(q.Z,{error:!0,children:B.dateOfInvoice.error&&B.dateOfInvoice.errorMessage})]}),(0,R.jsxs)("div",{children:[(0,R.jsxs)(P.Z,{className:"label",id:"demo-controlled-radio-buttons-group",children:["Date of Payment ",(0,R.jsx)("span",{className:"text-danger",children:"*"})]}),(0,R.jsx)(k._,{dateAdapter:w.y,children:(0,R.jsx)(W,{name:"dateOfPayment",renderInput:function(e){return(0,R.jsx)(D.Z,(0,o.Z)((0,o.Z)({},e),{},{size:"small"}))},value:u,onChange:function(e){return function(e){a((0,o.Z)((0,o.Z)({},s),{},{dateOfPayment:e})),$((0,o.Z)((0,o.Z)({},B),{},{dateOfPayment:(0,o.Z)((0,o.Z)({},B[u]),{},{error:!1,errorMessage:""})}))}(e)}})}),(0,R.jsx)(q.Z,{error:!0,children:B.dateOfPayment.error&&B.dateOfPayment.errorMessage})]})]}),(0,R.jsxs)("div",{children:[(0,R.jsx)(P.Z,{className:"label",id:"demo-controlled-radio-buttons-group",children:"Description"}),(0,R.jsx)(D.Z,{multiline:!0,rows:5,fullWidth:!0,type:"text",onChange:function(e){return E(e)},name:"description",value:v,size:"small"})]}),(0,R.jsxs)("div",{children:[(0,R.jsx)(P.Z,{className:"label",id:"demo-controlled-radio-buttons-group",children:"Payment Proof"}),(0,R.jsx)("span",{className:"input-file",children:(0,R.jsx)(j(),{type:"file",sx:{display:"none"},multiple:!1,onDone:function(e){!function(e){a((0,o.Z)((0,o.Z)({},s),{},{paymentProof:e}));var n=e.split(";")[0].split("/")[1];["png","jpeg","jpg","pdf"].includes(n)||alert("File must be in img and pdf format"),(e.length*(3/4)-2)/1048576>1.5&&alert("File limit exceed"),console.log(f)}(e.base64)}})})]}),(0,R.jsxs)("div",{className:"grid grid-2 mt-4",children:[(0,R.jsx)("button",{className:"btn btn-secondary btn-danger",onClick:function(){a({title:"",amount:"",category:"",paymentType:"",dateOfInvoice:null,dateOfPayment:null,description:"",paymentProof:""})},children:"Reset"}),(0,R.jsxs)("button",{className:"btn btn-primary",disabled:V.current,onClick:function(){return function(){V.current=!0;for(var e=Object.keys(B),n=(0,o.Z)({},B),r=Object.values(s),t=0,a=0;a<e.length;a++){var l=e[a],i=r[a];""!==i&&("dateOfInvoice"!==l&&"dateOfPayment"!==l||null!==i)||(t+=1,n=(0,o.Z)((0,o.Z)({},n),{},(0,x.Z)({},l,(0,o.Z)((0,o.Z)({},n[l]),{},{error:!0,errorMessage:"This field is required"}))))}$(n),0!==t&&(V.current=!1),0===t&&_(),setTimeout((function(){V.current=!1}),2e3)}()},children:[V.current?"Adding...":"Add Item",V.current&&(0,R.jsx)(A.G,{icon:"spinner",spin:!0})]})]})]})})},F=r(9899),V=r(8096),L=r(829),Q=r(7964),B=r(9891),$=(0,z.Z)(I.M)(s||(s=(0,v.Z)(["\n    width: 300px\n"]))),_=function(e){var n=JSON.parse(localStorage.getItem("user-info")),r=["None","80C","80D"],t=["Stock","Mutual Funds","Fixed Deposit"],s=(0,Z.useState)({investmentName:"",investmentAmount:"",investmentVendor:"",investmentDate:null,investmentDuration:"",dateOfMature:null,modeOfPayment:"Online",onlinePaymentDetails:{onlinebank:"",onlinepaymentDate:null,paymentId:""},cashReceipt:"",chequeDetails:{chequebank:"",chequeNumber:"",chequepaymentDate:null},investmentDocuments:[],investmentQualify:"",investmentCategory:"",description:"",contactPerson:{personName:"",contactNumber:""},userId:n.id}),a=(0,g.Z)(s,2),l=a[0],i=a[1],d=l.investmentName,c=l.investmentAmount,m=l.investmentVendor,u=l.investmentDate,v=l.investmentDuration,f=l.dateOfMature,I=l.modeOfPayment,z=l.onlinePaymentDetails,W=z.onlinebank,T=z.onlinepaymentDate,F=z.paymentId,_=l.cashReceipt,E=l.chequeDetails,G=E.chequebank,J=E.chequeNumber,U=E.chequepaymentDate,X=l.investmentDocuments,Y=l.investmentQualify,H=l.investmentCategory,K=l.description,ee=l.contactPerson,ne=ee.personName,re=ee.contactNumber,te=l.userId,se=(0,Z.useState)(!1),ae=(0,g.Z)(se,2),oe=ae[0],le=ae[1],ie=(0,Z.useState)(!1),de=(0,g.Z)(ie,2),ce=de[0],me=de[1],ue=e.setRender,he=e.showModal,pe=e.setShowModal,xe=(0,Z.useRef)(!1);(new b.Z).set("user",te,{path:"/"});var ge=(0,Z.useState)({investmentName:{value:d,error:!1,errorMessage:""},investmentAmount:{value:c,error:!1,errorMessage:""},investmentVendor:{value:m,error:!1,errorMessage:""},investmentDate:{value:u,error:!1,errorMessage:""},investmentDuration:{value:v,error:!1,errorMessage:""},dateOfMature:{value:f,error:!1,errorMessage:""},modeOfPayment:{value:I,error:!1,errorMessage:""},onlinePaymentDetails:{onlinebank:{value:W,error:!1,errorMessage:""},onlinepaymentDate:{value:T,error:!1,errorMessage:""},paymentId:{value:F,error:!1,errorMessage:""}},cashReceipt:{value:_,error:!1,errorMessage:""},chequeDetails:{chequebank:{value:G,error:!1,errorMessage:""},chequeNumber:{value:J,error:!1,errorMessage:""},chequepaymentDate:{value:U,error:!1,errorMessage:""}},investmentDocuments:{value:X,error:!1,errorMessage:""},investmentQualify:{value:Y,error:!1,errorMessage:""},investmentCategory:{value:H,error:!1,errorMessage:""},description:{value:K,error:!1,errorMessage:""},contactPerson:{value:ne,error:!1,errorMessage:"",personName:{value:ne,error:!1,errorMessage:""},contactNumber:{value:re,error:!1,errorMessage:""}}}),ve=(0,g.Z)(ge,2),Ze=ve[0],fe=ve[1];var je=function(){var e=(0,p.Z)((0,h.Z)().mark((function e(){return(0,h.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,S.$4)(l);case 2:pe((0,o.Z)((0,o.Z)({},he),{},{openDialog:!1})),ue("addSet"),y.Am.success("Investment Added Successfully!!",{position:"top-center",autoClose:2e3,hideProgressBar:!1,closeOnClick:!0,theme:"light"});case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ye=function(e){fe((0,o.Z)((0,o.Z)({},Ze),{},(0,x.Z)({},e.target.name,(0,o.Z)((0,o.Z)({},Ze[e.target.name]),{},{error:!1,errorMessage:""})))),i((0,o.Z)((0,o.Z)({},l),{},(0,x.Z)({},e.target.name,e.target.value)))},be=function(e){i((0,o.Z)((0,o.Z)({},l),{},{cashReceipt:e}));var n=e.split(";")[0].split("/")[1];if(["png","jpeg","jpg","pdf"].includes(n)){if(!((e.length*(3/4)-2)/1048576>2))return fe((0,o.Z)((0,o.Z)({},Ze),{},{modeOfPayment:(0,o.Z)((0,o.Z)({},Ze.modeOfPayment),{},{error:!1,errorMessage:""})})),!0;fe((0,o.Z)((0,o.Z)({},Ze),{},{modeOfPayment:(0,o.Z)((0,o.Z)({},Ze.modeOfPayment),{},{error:!0,errorMessage:"File size should not exceed 2MB."})}))}else fe((0,o.Z)((0,o.Z)({},Ze),{},{modeOfPayment:(0,o.Z)((0,o.Z)({},Ze.modeOfPayment),{},{error:!0,errorMessage:"File must be in img and pdf format"})}))},Ne=function(e,n){i((0,o.Z)((0,o.Z)({},l),{},{onlinePaymentDetails:(0,o.Z)((0,o.Z)({},l.onlinePaymentDetails),{},(0,x.Z)({},e,n))}))},Pe=function(e,n){i((0,o.Z)((0,o.Z)({},l),{},{chequeDetails:(0,o.Z)((0,o.Z)({},l.chequeDetails),{},(0,x.Z)({},e,n))}))},De=function(e,n){"personName"===e?n=n.replace(/[^A-Za-z\s]/g,""):"contactNumber"===e&&(n=n.replace(/[^\d]/g,"").slice(0,10)),i((0,o.Z)((0,o.Z)({},l),{},{contactPerson:(0,o.Z)((0,o.Z)({},l.contactPerson),{},(0,x.Z)({},e,n))}))};return(0,R.jsx)(N.Z,{children:(0,R.jsxs)("div",{className:"item-form",children:[(0,R.jsxs)("div",{children:[(0,R.jsxs)(P.Z,{className:"label",id:"demo-controlled-radio-buttons-group",children:["Investment Name ",(0,R.jsx)("span",{className:"text-danger",children:"*"})]}),(0,R.jsx)(D.Z,{variant:"outlined",fullWidth:!0,type:"text",onChange:function(e){return ye(e)},error:Ze.investmentName.error,helperText:Ze.investmentName.error&&Ze.investmentName.errorMessage,name:"investmentName",value:d,size:"small",inputProps:{maxLength:250}})]}),(0,R.jsxs)("div",{children:[(0,R.jsxs)(P.Z,{className:"label",id:"demo-controlled-radio-buttons-group",children:["Investment Vender ",(0,R.jsx)("span",{className:"text-danger",children:"*"})]}),(0,R.jsx)(D.Z,{variant:"outlined",fullWidth:!0,type:"text",onChange:function(e){return ye(e)},error:Ze.investmentVendor.error,helperText:Ze.investmentVendor.error&&Ze.investmentVendor.errorMessage,name:"investmentVendor",value:m,size:"small",inputProps:{maxLength:250}})]}),(0,R.jsxs)("div",{className:"grid grid-2",children:[(0,R.jsxs)("div",{sx:{padding:"20px"},children:[(0,R.jsxs)(P.Z,{className:"label",id:"demo-controlled-radio-buttons-group",children:["Investment Amount ",(0,R.jsx)("span",{className:"text-danger",children:"*"})]}),(0,R.jsx)(D.Z,{type:"text",onChange:function(e){return ye(e)},name:"investmentAmount",fullWidth:!0,error:Ze.investmentAmount.error||""!==c&&!c.match(/^\d+$/),helperText:Ze.investmentAmount.error&&Ze.investmentAmount.errorMessage||(c.match(/^\d+$/)||""===c?"":"Only digits are allowed"),value:c,size:"small"})]}),(0,R.jsxs)("div",{children:[(0,R.jsxs)(P.Z,{className:"label",id:"demo-controlled-radio-buttons-group",children:["Investment Date ",(0,R.jsx)("span",{className:"text-danger",children:"*"})]}),(0,R.jsxs)(k._,{dateAdapter:w.y,children:[(0,R.jsx)($,{name:"dateOfMature",renderInput:function(e){return(0,R.jsx)(D.Z,(0,o.Z)((0,o.Z)({},e),{},{size:"small"}))},value:u,onChange:function(e){return function(e){i((0,o.Z)((0,o.Z)({},l),{},{investmentDate:e})),fe((0,o.Z)((0,o.Z)({},Ze),{},{investmentDate:(0,o.Z)((0,o.Z)({},Ze[u]),{},{error:!1,errorMessage:""})}))}(e)}}),(0,R.jsx)(q.Z,{error:!0,children:Ze.investmentDate.error&&Ze.investmentDate.errorMessage})]})]})]}),(0,R.jsxs)("div",{className:"grid grid-2",children:[(0,R.jsxs)("div",{sx:{padding:"20px"},children:[(0,R.jsxs)(P.Z,{className:"label",id:"demo-controlled-radio-buttons-group",children:["Investment Duration ",(0,R.jsx)("span",{className:"text-danger",children:"*"})]}),(0,R.jsx)(D.Z,{type:"text",onChange:function(e){return ye(e)},name:"investmentDuration",fullWidth:!0,error:Ze.investmentDuration.error||""!==v&&!v.match(/^\d+$/),helperText:Ze.investmentDuration.error&&Ze.investmentDuration.errorMessage||(v.match(/^\d+$/)||""===v?"":"Only digits are allowed"),value:v,size:"small"})]}),(0,R.jsxs)("div",{children:[(0,R.jsxs)(P.Z,{className:"label",id:"demo-controlled-radio-buttons-group",children:["Date of Mature ",(0,R.jsx)("span",{className:"text-danger",children:"*"})]}),(0,R.jsxs)(k._,{dateAdapter:w.y,children:[(0,R.jsx)($,{name:"dateOfMature",renderInput:function(e){return(0,R.jsx)(D.Z,(0,o.Z)((0,o.Z)({},e),{},{size:"small"}))},value:f,onChange:function(e){return function(e){i((0,o.Z)((0,o.Z)({},l),{},{dateOfMature:e})),fe((0,o.Z)((0,o.Z)({},Ze),{},{dateOfMature:(0,o.Z)((0,o.Z)({},Ze[f]),{},{error:!1,errorMessage:""})}))}(e)}}),(0,R.jsx)(q.Z,{error:!0,children:Ze.dateOfMature.error&&Ze.dateOfMature.errorMessage})]})]})]}),(0,R.jsxs)("div",{children:[(0,R.jsxs)(P.Z,{className:"label",id:"demo-controlled-radio-buttons-group",children:["Mode of Payment ",(0,R.jsx)("span",{className:"text-danger",children:"*"})]}),(0,R.jsxs)(M.Z,{row:!0,"aria-labelledby":"demo-controlled-radio-buttons-group",name:"modeOfPayment",value:I,onChange:function(e){return ye(e)},children:[(0,R.jsx)(O.Z,{value:"Online",control:(0,R.jsx)(C.Z,{}),label:"Online"}),(0,R.jsx)(O.Z,{value:"Cash",control:(0,R.jsx)(C.Z,{}),label:"Cash"}),(0,R.jsx)(O.Z,{value:"Cheque",control:(0,R.jsx)(C.Z,{}),label:"Cheque"})]})]}),"Online"===l.modeOfPayment&&(0,R.jsxs)(R.Fragment,{children:[(0,R.jsx)(P.Z,{className:"label",id:"demo-controlled-radio-buttons-group",children:"Online Payment Details"}),(0,R.jsxs)("div",{children:[(0,R.jsx)(P.Z,{className:"sub-label",children:"Bank"}),(0,R.jsx)(D.Z,{fullWidth:!0,variant:"outlined",size:"small",inputProps:{maxLength:250},value:l.onlinePaymentDetails.onlinebank,onChange:function(e){return Ne("onlinebank",e.target.value)}})]}),(0,R.jsxs)("div",{className:"grid grid-2",children:[(0,R.jsxs)("div",{sx:{padding:"20px"},children:[(0,R.jsxs)(P.Z,{className:"label",id:"demo-controlled-radio-buttons-group",children:["Date of Payment",(0,R.jsx)("span",{className:"text-danger",children:"*"})]}),(0,R.jsx)(k._,{dateAdapter:w.y,children:(0,R.jsx)($,{name:"onlinepaymentDate",renderInput:function(e){return(0,R.jsx)(D.Z,(0,o.Z)((0,o.Z)({},e),{},{size:"small"}))},value:T,onChange:function(e){return Ne("onlinepaymentDate",e)}})})]}),(0,R.jsxs)("div",{children:[(0,R.jsxs)(P.Z,{className:"label",id:"demo-controlled-radio-buttons-group",children:["Payment ID",(0,R.jsx)("span",{className:"text-danger",children:"*"})]}),(0,R.jsx)(D.Z,{name:"paymentId",fullWidth:!0,variant:"outlined",size:"small",inputProps:{maxLength:100},value:l.onlinePaymentDetails.paymentId,onChange:function(e){return Ne("paymentId",e.target.value)}})]})]})]}),"Cash"===l.modeOfPayment&&(0,R.jsxs)("div",{children:[(0,R.jsxs)(P.Z,{className:"label",id:"demo-controlled-radio-buttons-group",children:["Cash Receipt",(0,R.jsx)("span",{className:"text-danger",children:"*"})]}),(0,R.jsx)("span",{className:"input-file",children:(0,R.jsx)(j(),{name:"cashReceipt",type:"file",sx:{display:"none"},multiple:!1,onDone:function(e){var n=e.base64;be(n)}})})]}),"Cheque"===l.modeOfPayment&&(0,R.jsxs)(R.Fragment,{children:[(0,R.jsx)(P.Z,{className:"label",children:"Cheque Details"}),(0,R.jsxs)("div",{children:[(0,R.jsx)(P.Z,{className:"sub-label",children:"Bank"}),(0,R.jsx)(D.Z,{fullWidth:!0,variant:"outlined",size:"small",inputProps:{maxLength:250},value:l.chequeDetails.chequebank,onChange:function(e){return Pe("chequebank",e.target.value)}})]}),(0,R.jsxs)("div",{className:"grid grid-2",children:[(0,R.jsxs)("div",{sx:{padding:"20px"},children:[(0,R.jsxs)(P.Z,{className:"label",id:"demo-controlled-radio-buttons-group",children:["Payment Date ",(0,R.jsx)("span",{className:"text-danger",children:"*"})]}),(0,R.jsx)(k._,{dateAdapter:w.y,children:(0,R.jsx)($,{name:"chequepaymentDate",renderInput:function(e){return(0,R.jsx)(D.Z,(0,o.Z)((0,o.Z)({},e),{},{size:"small"}))},value:U,onChange:function(e){return Pe("chequepaymentDate",e)}})})]}),(0,R.jsxs)("div",{children:[(0,R.jsxs)(P.Z,{className:"label",id:"demo-controlled-radio-buttons-group",children:["Cheque Number",(0,R.jsx)("span",{className:"text-danger",children:"*"})]}),(0,R.jsx)(D.Z,{fullWidth:!0,variant:"outlined",size:"small",inputProps:{maxLength:100},name:"chequeNumber",value:l.chequeDetails.chequeNumber,onChange:function(e){return Pe("chequeNumber",e.target.value)}})]})]})]}),(0,R.jsx)(q.Z,{error:!0,children:Ze.modeOfPayment.errorMessage}),(0,R.jsxs)("div",{children:[(0,R.jsxs)(P.Z,{className:"label",id:"demo-controlled-radio-buttons-group",children:["Investment Document",(0,R.jsx)("span",{className:"text-danger",children:"*"})]}),(0,R.jsxs)("span",{className:"input-file",children:[(0,R.jsx)(j(),{name:"investmentDocuments",type:"file",sx:{display:"none"},multiple:!0,onDone:function(e){return function(e){var n=2097152,r=!0;if(e.forEach((function(e){e.file.size>n&&(r=!1)})),r){var t=["jpg","jpeg","png","pdf"],s=!0;e.forEach((function(e){if(e.file.size>n)r=!1;else{var a=e.file.type.split("/")[1];t.includes(a)||(s=!1)}})),s?(i((0,o.Z)((0,o.Z)({},l),{},{investmentDocuments:e.map((function(e){return e.base64}))})),fe((0,o.Z)((0,o.Z)({},Ze),{},{investmentDocuments:(0,o.Z)((0,o.Z)({},Ze.investmentDocuments),{},{error:!1,errorMessage:""})}))):fe((0,o.Z)((0,o.Z)({},Ze),{},{investmentDocuments:(0,o.Z)((0,o.Z)({},Ze.investmentDocuments),{},{error:!1,errorMessage:"Allowed file formats: jpg, jpeg, png, pdf."})}))}else fe((0,o.Z)((0,o.Z)({},Ze),{},{investmentDocuments:(0,o.Z)((0,o.Z)({},Ze.investmentDocuments),{},{error:!1,errorMessage:"File size should not exceed 2MB."})}))}(e)}}),(0,R.jsx)(q.Z,{error:!0,children:Ze.investmentDocuments.errorMessage})]})]}),(0,R.jsxs)("div",{className:"grid grid-2",children:[(0,R.jsxs)("div",{sx:{padding:"20px"},children:[(0,R.jsxs)(V.Z,{className:"FilterFormControl",sx:{minWidth:"250px"},size:"small",children:[(0,R.jsx)(L.Z,{id:"demo-simple-select-label",children:"Investment Qualify"}),(0,R.jsx)(Q.Z,{labelId:"demo-simple-select-label",id:"demo-simple-select",open:oe,name:"investmentQualify",value:Y,onClose:function(){le(!1)},onOpen:function(){le(!0)},label:"Filter",onChange:ye,children:r&&r.map((function(e,n){return(0,R.jsx)(B.Z,{value:e.toLowerCase(),children:e},e+n)}))})]}),(0,R.jsx)(q.Z,{error:!0,children:Ze.investmentQualify.errorMessage})]}),(0,R.jsxs)("div",{children:[(0,R.jsxs)(V.Z,{className:"FilterFormControl",sx:{minWidth:"250px"},size:"small",children:[(0,R.jsx)(L.Z,{id:"demo-simple-select-label",children:"Investment Category"}),(0,R.jsx)(Q.Z,{labelId:"demo-simple-select-label",id:"demo-simple-select",open:ce,name:"investmentCategory",value:H,onClose:function(){me(!1)},onOpen:function(){me(!0)},label:"Filter",onChange:ye,children:t&&t.map((function(e,n){return(0,R.jsx)(B.Z,{value:e,children:e},e+n)}))})]}),(0,R.jsx)(q.Z,{error:!0,children:Ze.investmentCategory.errorMessage})]})]}),(0,R.jsxs)("div",{children:[(0,R.jsxs)(P.Z,{className:"label",id:"demo-controlled-radio-buttons-group",children:["Investment Description",(0,R.jsx)("span",{className:"text-danger",children:"*"})]}),(0,R.jsx)(D.Z,{multiline:!0,rows:5,fullWidth:!0,type:"text",onChange:function(e){return ye(e)},name:"description",value:K,size:"small",inputProps:{maxLength:1e3}})]}),(0,R.jsxs)("div",{children:[(0,R.jsxs)(P.Z,{className:"label",id:"demo-controlled-radio-buttons-group",children:["Point Of Contact",(0,R.jsx)("span",{className:"text-danger",children:"*"})]}),(0,R.jsxs)("div",{className:"grid grid-2",children:[(0,R.jsxs)("div",{sx:{padding:"20px"},children:[(0,R.jsxs)(P.Z,{className:"label",id:"demo-controlled-radio-buttons-group",children:["Name",(0,R.jsx)("span",{className:"text-danger",children:"*"})]}),(0,R.jsx)(D.Z,{variant:"outlined",fullWidth:!0,type:"text",onChange:function(e){return De("personName",e.target.value)},error:Ze.contactPerson.personName.error,helperText:Ze.contactPerson.personName.error&&Ze.contactPerson.personName.errorMessage,name:"personName",value:l.contactPerson.personName,size:"small",inputProps:{maxLength:250}})]}),(0,R.jsxs)("div",{children:[(0,R.jsxs)(P.Z,{className:"label",id:"demo-controlled-radio-buttons-group",children:["Contact Number",(0,R.jsx)("span",{className:"text-danger",children:"*"})]}),(0,R.jsx)(D.Z,{variant:"outlined",fullWidth:!0,type:"text",onChange:function(e){return De("contactNumber",e.target.value)},error:Ze.contactPerson.contactNumber.error,helperText:Ze.contactPerson.contactNumber.error&&Ze.contactPerson.contactNumber.errorMessage||10!==l.contactPerson.contactNumber.length&&l.contactPerson.contactNumber.length>0&&"Contact number should be exactly 10 digits",name:"contacNumber",value:l.contactPerson.contactNumber,size:"small"})]}),(0,R.jsx)(q.Z,{error:!0,children:Ze.contactPerson.errorMessage})]})]}),(0,R.jsxs)("div",{className:"grid grid-2 mt-4",children:[(0,R.jsx)("button",{className:"btn btn-secondary btn-danger",onClick:function(){i({investmentName:"",investmentAmount:"",investmentVendor:"",investmentDate:null,investmentDuration:"",dateOfMature:null,modeOfPayment:"",onlinePaymentDetails:{onlinebank:"",onlinepaymentDate:null,paymentId:""},cashReceipt:"",chequeDetails:{chequebank:"",chequeNumber:"",chequepaymentDate:null},investmentQualify:"",investmentCategory:"",description:"",contactPerson:{personName:"",contactNumber:""}})},children:"Reset"}),(0,R.jsxs)("button",{className:"btn btn-primary",disabled:xe.current,onClick:function(){return function(){xe.current=!0;for(var e=Object.keys(Ze),n=(0,o.Z)({},Ze),r=Object.values(l),t=0,s=0;s<e.length;s++){var a=e[s],i=r[s];"cashReceipt"!==a&&"description"!==a&&(""===i||null===i?(console.log(a),t+=1,n=(0,o.Z)((0,o.Z)({},n),{},(0,x.Z)({},a,(0,o.Z)((0,o.Z)({},n[a]),{},{error:!0,errorMessage:"This field is required"})))):n=(0,o.Z)((0,o.Z)({},n),{},(0,x.Z)({},a,(0,o.Z)((0,o.Z)({},n[a]),{},{error:!1,errorMessage:""}))))}if("Online"===l.modeOfPayment){if(!(l.onlinePaymentDetails.onlinebank||l.onlinePaymentDetails.onlinepaymentDate||l.onlinePaymentDetails.paymentId))return Ze.modeOfPayment.errorMessage="Online payment details are required.",fe((0,o.Z)({},Ze)),t++,void(xe.current=!1)}else Ze.modeOfPayment.errors=!1,Ze.modeOfPayment.errorMessage="",fe((0,o.Z)({},Ze));if("Cash"===l.modeOfPayment){if(!be(_))return Ze.modeOfPayment.errorMessage="Please upload cash receipt",fe((0,o.Z)({},Ze)),xe.current=!1,t++,void(xe.current=!1)}else Ze.modeOfPayment.errors=!1,Ze.modeOfPayment.errorMessage="",fe((0,o.Z)({},Ze));if("Cheque"===l.modeOfPayment){if(Object.keys(l.chequeDetails).some((function(e){return!l.chequeDetails[e]})))return n.modeOfPayment.error=!0,n.modeOfPayment.errorMessage="All Cheque Details are required when selecting Cheque payment mode",t++,void(xe.current=!1)}else Ze.modeOfPayment.errors=!1,Ze.modeOfPayment.errorMessage="",fe((0,o.Z)({},Ze));if(!l.contactPerson.personName||!l.contactPerson.contactNumber)return Ze.contactPerson.errorMessage="Person details are required.",fe((0,o.Z)({},Ze)),void(xe.current=!1);Ze.contactPerson.errors=!1,Ze.contactPerson.errorMessage="",fe((0,o.Z)({},Ze)),fe(n),0!==t&&(xe.current=!1),0===t&&je(),setTimeout((function(){xe.current=!1}),2e3)}()},children:[xe.current?"Adding...":"Add Investment",xe.current&&(0,R.jsx)(A.G,{icon:"spinner",spin:!0})]})]})]})})},E=(0,z.Z)(I.M)(a||(a=(0,v.Z)(["\n    width: 300px\n"]))),G=function(e){var n=JSON.parse(localStorage.getItem("user-info")),r=["None","80C","80D"],t=["Stock","Mutual Funds","Fixed Deposit"],s=(0,Z.useState)({investmentName:"",investmentAmount:"",investmentVendor:"",investmentDate:null,investmentDuration:"",dateOfMature:null,modeOfPayment:"Online",onlinePaymentDetails:{onlinebank:"",onlinepaymentDate:null,paymentId:""},cashReceipt:"",chequeDetails:{chequebank:"",chequeNumber:"",chequepaymentDate:null},investmentDocuments:[],investmentQualify:"",investmentCategory:"",description:"",contactPerson:{personName:"",contactNumber:""},userId:n.id}),a=(0,g.Z)(s,2),l=a[0],i=a[1],d=l.investmentName,c=l.investmentAmount,m=l.investmentVendor,u=l.investmentDate,v=l.investmentDuration,f=l.dateOfMature,I=l.modeOfPayment,z=l.onlinePaymentDetails,W=z.onlinebank,T=z.onlinepaymentDate,F=z.paymentId,$=l.cashReceipt,_=l.chequeDetails,G=_.chequebank,J=_.chequeNumber,U=_.chequepaymentDate,X=l.investmentDocuments,Y=l.investmentQualify,H=l.investmentCategory,K=l.description,ee=l.contactPerson,ne=ee.personName,re=ee.contactNumber,te=l.userId,se=e.setRender,ae=e.showModal,oe=e.setShowModal,le=ae.currInvestment,ie=le._id,de=(0,Z.useState)(!1),ce=(0,g.Z)(de,2),me=ce[0],ue=ce[1],he=(0,Z.useState)(!1),pe=(0,g.Z)(he,2),xe=pe[0],ge=pe[1];(new b.Z).set("user",te,{path:"/"});var ve=(0,Z.useRef)(!1);(0,Z.useEffect)((function(){var e=function(){var e=(0,p.Z)((0,h.Z)().mark((function e(){var n;return(0,h.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,S.yd)(ie);case 2:n=e.sent,i(n.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[ie]);var Ze=(0,Z.useState)({investmentName:{value:le.investmentName,error:!1,errorMessage:""},investmentAmount:{value:le.investmentAmount,error:!1,errorMessage:""},investmentVendor:{value:le.investmentVendor,error:!1,errorMessage:""},investmentDate:{value:le.investmentDate,error:!1,errorMessage:""},investmentDuration:{value:le.investmentDuration,error:!1,errorMessage:""},dateOfMature:{value:le.dateOfMature,error:!1,errorMessage:""},modeOfPayment:{value:le.modeOfPayment,error:!1,errorMessage:""},onlinePaymentDetails:{onlinebank:{value:le.onlinePaymentDetails.onlinebank,error:!1,errorMessage:""},onlinepaymentDate:{value:le.onlinePaymentDetails.onlinepaymentDate,error:!1,errorMessage:""},paymentId:{value:le.onlinePaymentDetails.paymentId,error:!1,errorMessage:""}},cashReceipt:{value:le.cashReceipt,error:!1,errorMessage:""},chequeDetails:{chequebank:{value:le.chequeDetails.chequebank,error:!1,errorMessage:""},chequeNumber:{value:le.chequeDetails.chequeNumber,error:!1,errorMessage:""},chequepaymentDate:{value:le.chequeDetails.chequepaymentDate,error:!1,errorMessage:""}},investmentDocuments:{value:le.investmentDocuments,error:!1,errorMessage:""},investmentQualify:{value:le.investmentQualify,error:!1,errorMessage:""},investmentCategory:{value:le.investmentCategory,error:!1,errorMessage:""},description:{value:le.description,error:!1,errorMessage:""},contactPerson:{value:le.contactPerson.personName,error:!1,errorMessage:"",personName:{value:le.contactPerson.personName,error:!1,errorMessage:""},contactNumber:{value:le.contactPerson.contactNumber,error:!1,errorMessage:""}}}),fe=(0,g.Z)(Ze,2),je=fe[0],ye=fe[1];var be=function(){var e=(0,p.Z)((0,h.Z)().mark((function e(){return(0,h.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,S.Gi)(ie,l);case 2:oe((0,o.Z)((0,o.Z)({},ae),{},{openDialog:!1})),se("editSet"),y.Am.success("Investment updated Successfully!!",{position:"top-center",autoClose:2e3,hideProgressBar:!1,closeOnClick:!0,theme:"light"});case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Ne=function(e){ye((0,o.Z)((0,o.Z)({},je),{},(0,x.Z)({},e.target.name,(0,o.Z)((0,o.Z)({},je[e.target.name]),{},{error:!1,errorMessage:""})))),i((0,o.Z)((0,o.Z)({},l),{},(0,x.Z)({},e.target.name,e.target.value)))},Pe=function(e){i((0,o.Z)((0,o.Z)({},l),{},{cashReceipt:e}));var n=e.split(";")[0].split("/")[1];if(["png","jpeg","jpg","pdf"].includes(n)){if(!((e.length*(3/4)-2)/1048576>2))return ye((0,o.Z)((0,o.Z)({},je),{},{modeOfPayment:(0,o.Z)((0,o.Z)({},je.modeOfPayment),{},{error:!1,errorMessage:""})})),!0;ye((0,o.Z)((0,o.Z)({},je),{},{modeOfPayment:(0,o.Z)((0,o.Z)({},je.modeOfPayment),{},{error:!0,errorMessage:"File size should not exceed 2MB."})}))}else ye((0,o.Z)((0,o.Z)({},je),{},{modeOfPayment:(0,o.Z)((0,o.Z)({},je.modeOfPayment),{},{error:!0,errorMessage:"File must be in img and pdf format"})}))},De=function(e,n){i((0,o.Z)((0,o.Z)({},l),{},{onlinePaymentDetails:(0,o.Z)((0,o.Z)({},l.onlinePaymentDetails),{},(0,x.Z)({},e,n))}))},Me=function(e,n){i((0,o.Z)((0,o.Z)({},l),{},{chequeDetails:(0,o.Z)((0,o.Z)({},l.chequeDetails),{},(0,x.Z)({},e,n))}))},Oe=function(e,n){"personName"===e?n=n.replace(/[^A-Za-z\s]/g,""):"contactNumber"===e&&(n=n.replace(/[^\d]/g,"").slice(0,10)),i((0,o.Z)((0,o.Z)({},l),{},{contactPerson:(0,o.Z)((0,o.Z)({},l.contactPerson),{},(0,x.Z)({},e,n))}))};return(0,R.jsx)(N.Z,{children:(0,R.jsxs)("div",{className:"item-form",children:[(0,R.jsxs)("div",{children:[(0,R.jsxs)(P.Z,{className:"label",id:"demo-controlled-radio-buttons-group",children:["Investment Name ",(0,R.jsx)("span",{className:"text-danger",children:"*"})]}),(0,R.jsx)(D.Z,{variant:"outlined",fullWidth:!0,type:"text",onChange:function(e){return Ne(e)},error:je.investmentName.error,helperText:je.investmentName.error&&je.investmentName.errorMessage,name:"investmentName",value:d,size:"small",inputProps:{maxLength:250}})]}),(0,R.jsxs)("div",{children:[(0,R.jsxs)(P.Z,{className:"label",id:"demo-controlled-radio-buttons-group",children:["Investment Vender ",(0,R.jsx)("span",{className:"text-danger",children:"*"})]}),(0,R.jsx)(D.Z,{variant:"outlined",fullWidth:!0,type:"text",onChange:function(e){return Ne(e)},error:je.investmentVendor.error,helperText:je.investmentVendor.error&&je.investmentVendor.errorMessage,name:"investmentVendor",value:m,size:"small",inputProps:{maxLength:250}})]}),(0,R.jsxs)("div",{className:"grid grid-2",children:[(0,R.jsxs)("div",{sx:{padding:"20px"},children:[(0,R.jsxs)(P.Z,{className:"label",id:"demo-controlled-radio-buttons-group",children:["Investment Amount ",(0,R.jsx)("span",{className:"text-danger",children:"*"})]}),(0,R.jsx)(D.Z,{type:"text",onChange:function(e){return Ne(e)},name:"investmentAmount",fullWidth:!0,error:je.investmentAmount.error||"string"===typeof c&&!c.match(/^\d+$/),helperText:je.investmentAmount.error&&je.investmentAmount.errorMessage||("string"!==typeof c||c.match(/^\d+$/)||""===c?"":"Only digits are allowed"),value:c,size:"small"})]}),(0,R.jsxs)("div",{children:[(0,R.jsxs)(P.Z,{className:"label",id:"demo-controlled-radio-buttons-group",children:["Investment Date ",(0,R.jsx)("span",{className:"text-danger",children:"*"})]}),(0,R.jsxs)(k._,{dateAdapter:w.y,children:[(0,R.jsx)(E,{name:"dateOfMature",renderInput:function(e){return(0,R.jsx)(D.Z,(0,o.Z)((0,o.Z)({},e),{},{size:"small"}))},value:u,onChange:function(e){return function(e){i((0,o.Z)((0,o.Z)({},l),{},{investmentDate:e})),ye((0,o.Z)((0,o.Z)({},je),{},{investmentDate:(0,o.Z)((0,o.Z)({},je[u]),{},{error:!1,errorMessage:""})}))}(e)}}),(0,R.jsx)(q.Z,{error:!0,children:je.investmentDate.error&&je.investmentDate.errorMessage})]})]})]}),(0,R.jsxs)("div",{className:"grid grid-2",children:[(0,R.jsxs)("div",{sx:{padding:"20px"},children:[(0,R.jsxs)(P.Z,{className:"label",id:"demo-controlled-radio-buttons-group",children:["Investment Duration ",(0,R.jsx)("span",{className:"text-danger",children:"*"})]}),(0,R.jsx)(D.Z,{type:"text",onChange:function(e){return Ne(e)},name:"investmentDuration",fullWidth:!0,error:!!je.investmentDuration.error||"string"===typeof v&&!v.match(/^\d+$/),helperText:je.investmentDuration.error?je.investmentDuration.errorMessage:"string"!==typeof v||v.match(/^\d+$/)?"":"Only digits are allowed",value:v,size:"small"})]}),(0,R.jsxs)("div",{children:[(0,R.jsxs)(P.Z,{className:"label",id:"demo-controlled-radio-buttons-group",children:["Date of Mature ",(0,R.jsx)("span",{className:"text-danger",children:"*"})]}),(0,R.jsxs)(k._,{dateAdapter:w.y,children:[(0,R.jsx)(E,{name:"dateOfMature",renderInput:function(e){return(0,R.jsx)(D.Z,(0,o.Z)((0,o.Z)({},e),{},{size:"small"}))},value:f,onChange:function(e){return function(e){i((0,o.Z)((0,o.Z)({},l),{},{dateOfMature:e})),ye((0,o.Z)((0,o.Z)({},je),{},{dateOfMature:(0,o.Z)((0,o.Z)({},je[f]),{},{error:!1,errorMessage:""})}))}(e)}}),(0,R.jsx)(q.Z,{error:!0,children:je.dateOfMature.error&&je.dateOfMature.errorMessage})]})]})]}),(0,R.jsxs)("div",{children:[(0,R.jsxs)(P.Z,{className:"label",id:"demo-controlled-radio-buttons-group",children:["Mode of Payment ",(0,R.jsx)("span",{className:"text-danger",children:"*"})]}),(0,R.jsxs)(M.Z,{row:!0,"aria-labelledby":"demo-controlled-radio-buttons-group",name:"modeOfPayment",value:I,onChange:function(e){return Ne(e)},children:[(0,R.jsx)(O.Z,{value:"Online",control:(0,R.jsx)(C.Z,{}),label:"Online"}),(0,R.jsx)(O.Z,{value:"Cash",control:(0,R.jsx)(C.Z,{}),label:"Cash"}),(0,R.jsx)(O.Z,{value:"Cheque",control:(0,R.jsx)(C.Z,{}),label:"Cheque"})]})]}),"Online"===l.modeOfPayment&&(0,R.jsxs)(R.Fragment,{children:[(0,R.jsx)(P.Z,{className:"label",id:"demo-controlled-radio-buttons-group",children:"Online Payment Details"}),(0,R.jsxs)("div",{children:[(0,R.jsx)(P.Z,{className:"sub-label",children:"Bank"}),(0,R.jsx)(D.Z,{fullWidth:!0,variant:"outlined",size:"small",inputProps:{maxLength:250},value:W,onChange:function(e){return De("onlinebank",e.target.value)}})]}),(0,R.jsxs)("div",{className:"grid grid-2",children:[(0,R.jsxs)("div",{sx:{padding:"20px"},children:[(0,R.jsxs)(P.Z,{className:"label",id:"demo-controlled-radio-buttons-group",children:["Date of Payment",(0,R.jsx)("span",{className:"text-danger",children:"*"})]}),(0,R.jsx)(k._,{dateAdapter:w.y,children:(0,R.jsx)(E,{name:"onlinepaymentDate",renderInput:function(e){return(0,R.jsx)(D.Z,(0,o.Z)((0,o.Z)({},e),{},{size:"small"}))},value:T,onChange:function(e){return De("onlinepaymentDate",e)}})})]}),(0,R.jsxs)("div",{children:[(0,R.jsxs)(P.Z,{className:"label",id:"demo-controlled-radio-buttons-group",children:["Payment ID",(0,R.jsx)("span",{className:"text-danger",children:"*"})]}),(0,R.jsx)(D.Z,{name:"paymentId",fullWidth:!0,variant:"outlined",size:"small",inputProps:{maxLength:100},value:F,onChange:function(e){return De("paymentId",e.target.value)}})]})]})]}),"Cash"===l.modeOfPayment&&(0,R.jsxs)("div",{children:[(0,R.jsxs)(P.Z,{className:"label",id:"demo-controlled-radio-buttons-group",children:["Cash Receipt",(0,R.jsx)("span",{className:"text-danger",children:"*"})]}),(0,R.jsx)("span",{className:"input-file",children:(0,R.jsx)(j(),{name:"cashReceipt",type:"file",sx:{display:"none"},multiple:!1,onDone:function(e){var n=e.base64;Pe(n)}})})]}),"Cheque"===l.modeOfPayment&&(0,R.jsxs)(R.Fragment,{children:[(0,R.jsx)(P.Z,{className:"label",children:"Cheque Details"}),(0,R.jsxs)("div",{children:[(0,R.jsx)(P.Z,{className:"sub-label",children:"Bank"}),(0,R.jsx)(D.Z,{fullWidth:!0,variant:"outlined",size:"small",inputProps:{maxLength:250},value:G,onChange:function(e){return Me("chequebank",e.target.value)}})]}),(0,R.jsxs)("div",{className:"grid grid-2",children:[(0,R.jsxs)("div",{sx:{padding:"20px"},children:[(0,R.jsxs)(P.Z,{className:"label",id:"demo-controlled-radio-buttons-group",children:["Payment Date ",(0,R.jsx)("span",{className:"text-danger",children:"*"})]}),(0,R.jsx)(k._,{dateAdapter:w.y,children:(0,R.jsx)(E,{name:"chequepaymentDate",renderInput:function(e){return(0,R.jsx)(D.Z,(0,o.Z)((0,o.Z)({},e),{},{size:"small"}))},value:U,onChange:function(e){return Me("chequepaymentDate",e)}})})]}),(0,R.jsxs)("div",{children:[(0,R.jsxs)(P.Z,{className:"label",id:"demo-controlled-radio-buttons-group",children:["Cheque Number",(0,R.jsx)("span",{className:"text-danger",children:"*"})]}),(0,R.jsx)(D.Z,{fullWidth:!0,variant:"outlined",size:"small",inputProps:{maxLength:100},name:"chequeNumber",value:J,onChange:function(e){return Me("chequeNumber",e.target.value)}})]})]})]}),(0,R.jsx)(q.Z,{error:!0,children:je.modeOfPayment.errorMessage}),(0,R.jsxs)("div",{children:[(0,R.jsxs)(P.Z,{className:"label",id:"demo-controlled-radio-buttons-group",children:["Investment Document",(0,R.jsx)("span",{className:"text-danger",children:"*"})]}),(0,R.jsxs)("span",{className:"input-file",children:[(0,R.jsx)(j(),{name:"investmentDocuments",type:"file",sx:{display:"none"},multiple:!0,onDone:function(e){return function(e){var n=2097152,r=!0;if(e.forEach((function(e){e.file.size>n&&(r=!1)})),r){var t=["jpg","jpeg","png","pdf"],s=!0;e.forEach((function(e){if(e.file.size>n)r=!1;else{var a=e.file.type.split("/")[1];t.includes(a)||(s=!1)}})),s?(i((0,o.Z)((0,o.Z)({},l),{},{investmentDocuments:e.map((function(e){return e.base64}))})),ye((0,o.Z)((0,o.Z)({},je),{},{investmentDocuments:(0,o.Z)((0,o.Z)({},je.investmentDocuments),{},{error:!1,errorMessage:""})}))):ye((0,o.Z)((0,o.Z)({},je),{},{investmentDocuments:(0,o.Z)((0,o.Z)({},je.investmentDocuments),{},{error:!1,errorMessage:"Allowed file formats: jpg, jpeg, png, pdf."})}))}else ye((0,o.Z)((0,o.Z)({},je),{},{investmentDocuments:(0,o.Z)((0,o.Z)({},je.investmentDocuments),{},{error:!1,errorMessage:"File size should not exceed 2MB."})}))}(e)},value:X}),(0,R.jsx)(q.Z,{error:!0,children:je.investmentDocuments.errorMessage})]})]}),(0,R.jsxs)("div",{className:"grid grid-2",children:[(0,R.jsxs)("div",{sx:{padding:"20px"},children:[(0,R.jsxs)(V.Z,{className:"FilterFormControl",sx:{minWidth:"250px"},size:"small",children:[(0,R.jsx)(L.Z,{id:"demo-simple-select-label",children:"Investment Qualify"}),(0,R.jsx)(Q.Z,{labelId:"demo-simple-select-label",id:"demo-simple-select",open:me,name:"investmentQualify",value:Y,onClose:function(){ue(!1)},onOpen:function(){ue(!0)},label:"Filter",onChange:Ne,children:r&&r.map((function(e,n){return(0,R.jsx)(B.Z,{value:e.toLowerCase(),children:e},e+n)}))})]}),(0,R.jsx)(q.Z,{error:!0,children:je.investmentQualify.errorMessage})]}),(0,R.jsxs)("div",{children:[(0,R.jsxs)(V.Z,{className:"FilterFormControl",sx:{minWidth:"250px"},size:"small",children:[(0,R.jsx)(L.Z,{id:"demo-simple-select-label",children:"Investment Category"}),(0,R.jsx)(Q.Z,{labelId:"demo-simple-select-label",id:"demo-simple-select",open:xe,name:"investmentCategory",value:H,onClose:function(){ge(!1)},onOpen:function(){ge(!0)},label:"Filter",onChange:Ne,children:t&&t.map((function(e,n){return(0,R.jsx)(B.Z,{value:e,children:e},e+n)}))})]}),(0,R.jsx)(q.Z,{error:!0,children:je.investmentCategory.errorMessage})]})]}),(0,R.jsxs)("div",{children:[(0,R.jsxs)(P.Z,{className:"label",id:"demo-controlled-radio-buttons-group",children:["Investment Description",(0,R.jsx)("span",{className:"text-danger",children:"*"})]}),(0,R.jsx)(D.Z,{multiline:!0,rows:5,fullWidth:!0,type:"text",onChange:function(e){return Ne(e)},name:"description",value:K,size:"small",inputProps:{maxLength:1e3}})]}),(0,R.jsxs)("div",{children:[(0,R.jsxs)(P.Z,{className:"label",id:"demo-controlled-radio-buttons-group",children:["Point Of Contact",(0,R.jsx)("span",{className:"text-danger",children:"*"})]}),(0,R.jsxs)("div",{className:"grid grid-2",children:[(0,R.jsxs)("div",{sx:{padding:"20px"},children:[(0,R.jsxs)(P.Z,{className:"label",id:"demo-controlled-radio-buttons-group",children:["Name",(0,R.jsx)("span",{className:"text-danger",children:"*"})]}),(0,R.jsx)(D.Z,{variant:"outlined",fullWidth:!0,type:"text",onChange:function(e){return Oe("personName",e.target.value)},error:je.contactPerson.personName.error,helperText:je.contactPerson.personName.error&&je.contactPerson.personName.errorMessage,name:"personName",value:ne,size:"small",inputProps:{maxLength:250}})]}),(0,R.jsxs)("div",{children:[(0,R.jsxs)(P.Z,{className:"label",id:"demo-controlled-radio-buttons-group",children:["Contact Number",(0,R.jsx)("span",{className:"text-danger",children:"*"})]}),(0,R.jsx)(D.Z,{variant:"outlined",fullWidth:!0,type:"text",onChange:function(e){return Oe("contactNumber",e.target.value)},error:je.contactPerson.contactNumber.error,helperText:je.contactPerson.contactNumber.error&&je.contactPerson.contactNumber.errorMessage||10!==l.contactPerson.contactNumber.length&&l.contactPerson.contactNumber.length>0&&"Contact number should be exactly 10 digits",name:"contacNumber",value:re,size:"small"})]}),(0,R.jsx)(q.Z,{error:!0,children:je.contactPerson.errorMessage})]})]}),(0,R.jsxs)("div",{className:"grid grid-2 mt-4",children:[(0,R.jsx)("button",{className:"btn btn-secondary btn-danger",onClick:function(){i({investmentName:"",investmentAmount:"",investmentVendor:"",investmentDate:null,investmentDuration:"",dateOfMature:null,modeOfPayment:"",onlinePaymentDetails:{onlinebank:"",onlinepaymentDate:null,paymentId:""},cashReceipt:"",chequeDetails:{chequebank:"",chequeNumber:"",chequepaymentDate:null},investmentQualify:"",investmentCategory:"",description:"",contactPerson:{personName:"",contactNumber:""}})},children:"Reset"}),(0,R.jsxs)("button",{className:"btn btn-primary",disabled:ve.current,onClick:function(){return function(){ve.current=!0;for(var e=Object.keys(je),n=(0,o.Z)({},je),r=Object.values(l),t=0,s=0;s<e.length;s++){var a=e[s],i=r[s];"cashReceipt"!==a&&"description"!==a&&""===Y&&(""===i||null===i?(t+=1,n=(0,o.Z)((0,o.Z)({},n),{},(0,x.Z)({},a,(0,o.Z)((0,o.Z)({},n[a]),{},{error:!0,errorMessage:"This field is required"})))):n=(0,o.Z)((0,o.Z)({},n),{},(0,x.Z)({},a,(0,o.Z)((0,o.Z)({},n[a]),{},{error:!1,errorMessage:""}))))}if("Online"===l.modeOfPayment){if(!(l.onlinePaymentDetails.onlinebank||l.onlinePaymentDetails.onlinepaymentDate||l.onlinePaymentDetails.paymentId))return je.modeOfPayment.errorMessage="Online payment details are required.",ye((0,o.Z)({},je)),t++,void(ve.current=!1)}else je.modeOfPayment.errors=!1,je.modeOfPayment.errorMessage="",ye((0,o.Z)({},je));if("Cash"===l.modeOfPayment){if(!Pe($))return je.modeOfPayment.errorMessage="Please upload cash receipt",ye((0,o.Z)({},je)),ve.current=!1,t++,void(ve.current=!1)}else je.modeOfPayment.errors=!1,je.modeOfPayment.errorMessage="",ye((0,o.Z)({},je));if("Cheque"===l.modeOfPayment){if(Object.keys(l.chequeDetails).some((function(e){return!l.chequeDetails[e]})))return n.modeOfPayment.error=!0,n.modeOfPayment.errorMessage="All Cheque Details are required when selecting Cheque payment mode",t++,void(ve.current=!1)}else je.modeOfPayment.errors=!1,je.modeOfPayment.errorMessage="",ye((0,o.Z)({},je));if(!l.contactPerson.personName||!l.contactPerson.contactNumber)return je.contactPerson.errorMessage="Person details are required.",ye((0,o.Z)({},je)),void(ve.current=!1);je.contactPerson.errors=!1,je.contactPerson.errorMessage="",ye((0,o.Z)({},je)),ye(n),0!==t&&(ve.current=!1),0===t&&be(),setTimeout((function(){ve.current=!1}),2e3)}()},children:[ve.current?"Updating...":"Edit Investment",ve.current&&(0,R.jsx)(A.G,{icon:"spinner",spin:!0})]})]})]})})};function J(e){var n=e.setRender,r=e.showModal,t=e.setShowModal,s=e.formType,a=r.openDialog,h=r.currItem;return(0,R.jsxs)(l.Z,{open:a,onClose:function(){t((0,o.Z)((0,o.Z)({},r),{},{openDialog:!1}))},maxWidth:"md",children:[(0,R.jsx)(i.Z,{children:(0,R.jsxs)("div",{style:{display:"flex"},children:[(0,R.jsxs)(d.Z,{variant:"h6",component:"div",style:{flexGrow:1},children:[s," Details"]}),(0,R.jsx)(c.Z,{color:"secondary",onClick:function(){return t((0,o.Z)((0,o.Z)({},r),{},{openDialog:!1}))},children:(0,R.jsx)(u.Z,{})})]})}),(0,R.jsx)(m.Z,{dividers:!0,sx:{paddingY:2,paddingX:0},children:"Investment"===s?(0,R.jsx)(_,{setRender:n,showModal:r,setShowModal:t}):"Edit Investment"===s?(0,R.jsx)(G,{setRender:n,showModal:r,setShowModal:t}):"Add"===s?(0,R.jsx)(T,{setRender:n,showModal:r,setShowModal:t}):(0,R.jsx)(F.Z,{setRender:n,cItem:h,showModal:r,setShowModal:t})})]})}}}]);
//# sourceMappingURL=968.16e1d6ec.chunk.js.map